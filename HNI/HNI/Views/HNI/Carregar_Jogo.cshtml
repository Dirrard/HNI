
@{
    ViewBag.Title = "Carregar";
}
@using HNI.Models
@using HNI.Dataaccess

<style type="text/css">
    body {
    background-image: url('@Url.Content("~/Background-Image.jpg")');
    }
</style>


@{

    PersonagemDAO PD = new PersonagemDAO();
    Personagem P = new Personagem();
    ClasseDAO CD = new ClasseDAO();
    SaveDAO Save = new SaveDAO();
    Classe C = new Classe();
    HttpCookie cookieU = Request.Cookies.Get("Usuario");

    int U = Convert.ToInt32(cookieU.Value);


    P = PD.Buscar(U, 1);
    if (P.Nome == "N" && P.AtkF == 000)
    {
        ViewBag.Id = 0;
        ViewBag.Nome = "";
        ViewBag.Atkf = "";
        ViewBag.Atkm = "";
        ViewBag.Def = "";
        ViewBag.Mana = "";
        ViewBag.Hp = "";
        ViewBag.Classe = "";
        ViewBag.Nivel = "";
        ViewBag.Ouro = "";
    }
    else
    {
        C = CD.Buscar(P.Classe.Id);
        ViewBag.Id = P.Id;
        ViewBag.Nome = P.Nome;
        ViewBag.Atkf = P.AtkF;
        ViewBag.Atkm = P.AtkM;
        ViewBag.Def = P.Def;
        ViewBag.Mana = P.Mana;
        ViewBag.Hp = P.Hp;
        ViewBag.Classe = C.Nome;
        ViewBag.Nivel = P.Nivel;
        ViewBag.Ouro = P.Ouro;
    }
}
<hr />
<div class="jumbotron CarregarPA">
    <div class="row">
        <div class="col-md-10 CarregarL">
            @{
                if (ViewBag.Id == 0)
                {
                    <div class="row">
                        <p>Nome:@ViewBag.Nome|AtkF:@ViewBag.Atkf|AtkM:@ViewBag.Atkm|Def:@ViewBag.Def|Mana:@ViewBag.Mana|Hp:@ViewBag.Hp</p>
                        <p>Ouro:@ViewBag.Ouro <a class="btn StatusBut btn-default" href="@Url.Action("Criar_Personagem", "HNI")">Criar Personagem</a></p>
                    </div>
                }
                else
                {
                    <div class="row">
                        <p>Nome:@ViewBag.Nome|AtkF:@ViewBag.Atkf|AtkM:@ViewBag.Atkm|Def:@ViewBag.Def|Mana:@ViewBag.Mana|Hp:@ViewBag.Hp</p>
                        <p>Ouro:@ViewBag.Ouro <a class="btn StatusBut btn-success" href="@Url.Action("Carregar", "HNI", new { @Id = ViewBag.Id })">Continuar Jogo</a></p>
                    </div>
                }
            }
        </div>
    </div>
    @{ P = PD.Buscar(U, 2);
        if (P.Nome == "N" && P.AtkF == 000)
        {
            ViewBag.Id = 0;
            ViewBag.Nome = "";
            ViewBag.Atkf = "";
            ViewBag.Atkm = "";
            ViewBag.Def = "";
            ViewBag.Mana = "";
            ViewBag.Hp = "";
            ViewBag.Classe = "";
            ViewBag.Nivel = "";
            ViewBag.Ouro = "";
        }
        else
        {
            C = CD.Buscar(P.Classe.Id);
            ViewBag.Id = P.Id;
            ViewBag.Nome = P.Nome;
            ViewBag.Atkf = P.AtkF;
            ViewBag.Atkm = P.AtkM;
            ViewBag.Def = P.Def;
            ViewBag.Mana = P.Mana;
            ViewBag.Hp = P.Hp;
            ViewBag.Classe = C.Nome;
            ViewBag.Nivel = P.Nivel;
            ViewBag.Ouro = P.Ouro;
        }
    }
    
    <div class="row">
        <div class="col-md-10 CarregarL">
            @{
                if (ViewBag.Id == 0)
                {
                    <div class="row">
                        <p>Nome:@ViewBag.Nome|AtkF:@ViewBag.Atkf|AtkM:@ViewBag.Atkm|Def:@ViewBag.Def|Mana:@ViewBag.Mana|Hp:@ViewBag.Hp</p>
                        <p>Ouro:@ViewBag.Ouro <a class="btn StatusBut btn-default" href="@Url.Action("Criar_Personagem", "HNI")">Criar Personagem</a></p>
                    </div>
                }
                else
                {
                    <div class="row">
                        <p>Nome:@ViewBag.Nome|AtkF:@ViewBag.Atkf|AtkM:@ViewBag.Atkm|Def:@ViewBag.Def|Mana:@ViewBag.Mana|Hp:@ViewBag.Hp</p>
                        <p>Ouro:@ViewBag.Ouro <a class="btn StatusBut btn-success" href="@Url.Action("Carregar", "HNI", new { @Id = ViewBag.Id })">Continuar Jogo</a></p>
                    </div>
                }
            }
        </div>
    </div>
    @{ P = PD.Buscar(U, 3);
        if (P.Nome == "N" && P.AtkF == 000)
        {
            ViewBag.Id = 0;
            ViewBag.Nome = "";
            ViewBag.Atkf = "";
            ViewBag.Atkm = "";
            ViewBag.Def = "";
            ViewBag.Mana = "";
            ViewBag.Hp = "";
            ViewBag.Classe = "";
            ViewBag.Nivel = "";
            ViewBag.Ouro = "";
        }
        else
        {
            C = CD.Buscar(P.Classe.Id);
            ViewBag.Id = P.Id;
            ViewBag.Nome = P.Nome;
            ViewBag.Atkf = P.AtkF;
            ViewBag.Atkm = P.AtkM;
            ViewBag.Def = P.Def;
            ViewBag.Mana = P.Mana;
            ViewBag.Hp = P.Hp;
            ViewBag.Classe = C.Nome;
            ViewBag.Nivel = P.Nivel;
            ViewBag.Ouro = P.Ouro;
        }
    }
    <div class="row">
        <div class="col-md-10 CarregarL">
            @{
                if (ViewBag.Id == 0)
                {
                    <div class="row">
                        <p>Nome:@ViewBag.Nome|AtkF:@ViewBag.Atkf|AtkM:@ViewBag.Atkm|Def:@ViewBag.Def|Mana:@ViewBag.Mana|Hp:@ViewBag.Hp</p>
                        <p>Ouro:@ViewBag.Ouro <a class="btn StatusBut btn-default" href="@Url.Action("Criar_Personagem", "HNI")">Criar Personagem</a></p>
                    </div>
                }
                else
                {
                    <div class="row">
                        <p>Nome:@ViewBag.Nome|AtkF:@ViewBag.Atkf|AtkM:@ViewBag.Atkm|Def:@ViewBag.Def|Mana:@ViewBag.Mana|Hp:@ViewBag.Hp</p>
                        <p>Ouro:@ViewBag.Ouro <a class="btn StatusBut btn-success" href="@Url.Action("Carregar", "HNI", new { @Id = ViewBag.Id })">Continuar Jogo</a></p>
                    </div>
                }
            }
        </div>
    </div>
</div>
